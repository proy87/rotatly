// Generated by CoffeeScript 2.7.0
(function() {
  window.hide_element = function(el) {
    var display;
    display = window.getComputedStyle(el, null).display;
    if (display !== 'none') {
      el.setAttribute('data-display', display);
    }
    return el.style.display = 'none';
  };

  window.show_element = function(el) {
    var display;
    display = window.getComputedStyle(el, null).display;
    if (display === 'none') {
      return el.style.display = el.getAttribute('data-display') || 'block';
    }
  };

  window.send_request = async function(url, data, method = 'POST', callback = null) {
    var body, headers, k, params, params_str, v;
    params = [];
    for (k in data) {
      v = data[k];
      params.push(`${k}=${v}`);
    }
    params_str = params.join('&');
    body = null;
    headers = null;
    if (method === 'POST') {
      headers = {
        'Content-Type': 'application/x-www-form-urlencoded',
        'X-CSRFToken': csrf_token
      };
      body = params_str;
    } else {
      url += `?${params_str}`;
    }
    return (await fetch(url, {
      method: method,
      headers: headers,
      body: body
    }).then(function(r) {
      if (r.ok) {
        return r.json();
      }
    }).then(function(data) {
      if (callback) {
        return callback(data);
      }
    }));
  };

}).call(this);

//# sourceMappingURL=core.js.map
