// Generated by CoffeeScript 2.7.0
(function() {
  var get_cookie;

  window.hide_element = function(el) {
    var display;
    display = window.getComputedStyle(el, null).display;
    if (display !== 'none') {
      el.setAttribute('data-display', display);
    }
    return el.style.display = 'none';
  };

  window.show_element = function(el) {
    var display;
    display = window.getComputedStyle(el, null).display;
    if (display === 'none') {
      return el.style.display = el.getAttribute('data-display') || 'block';
    }
  };

  get_cookie = function(name) {
    var cookie, cookies, i, j, ref;
    if (document.cookie && document.cookie !== '') {
      cookies = document.cookie.split(';');
      for (i = j = 0, ref = cookies.length; (0 <= ref ? j < ref : j > ref); i = 0 <= ref ? ++j : --j) {
        cookie = cookies[i].trim();
        if (cookie.substring(0, name.length + 1) === (name + '=')) {
          return decodeURIComponent(cookie.substring(name.length + 1));
        }
      }
    }
  };

  window.send_request = async function(url, data, method = 'POST', callback = null) {
    var body, headers, k, params, params_str, v;
    params = [];
    for (k in data) {
      v = data[k];
      params.push(`${k}=${v}`);
    }
    params_str = params.join('&');
    body = null;
    headers = null;
    if (method === 'POST') {
      headers = {
        'Content-Type': 'application/x-www-form-urlencoded',
        'X-CSRFToken': get_cookie('csrftoken')
      };
      body = params_str;
    } else {
      url += `?${params_str}`;
    }
    return (await fetch(url, {
      method: method,
      headers: headers,
      body: body
    }).then(function(r) {
      if (r.ok) {
        return r.json();
      }
    }).then(function(data) {
      if (callback) {
        return callback(data);
      }
    }));
  };

}).call(this);

//# sourceMappingURL=core.js.map
