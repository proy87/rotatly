{
  "version": 3,
  "file": "create.js",
  "sourceRoot": "\\",
  "sources": [
    "create.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "selected_outline = null\r\nselected_color_icon = null\r\noutlines_dom = [...document.querySelectorAll('#outlines > .outline-container')]\r\noutline_dom = document.querySelector('#outline > .outline-container')\r\noutline_hidden_dom = document.querySelector('#outline-hidden > .outline-container')\r\n\r\ncopy_outline = (src, target)->\r\n  target.setAttribute('data-index', src.getAttribute('data-index'))\r\n  src_table = src.querySelector('table')\r\n  target_table = target.querySelector('table')\r\n  for i in [0...src_table.rows.length]\r\n    for j in [0...src_table.rows[0].cells.length]\r\n      target_cell = target_table.rows[i].cells[j]\r\n      src_cell = src_table.rows[i].cells[j]\r\n      target_cell.setAttribute('data-value', src_cell.getAttribute('data-value'))\r\n      remove_color_class(target_cell)\r\n  target.querySelector('.outline-grid').innerHTML = src.querySelector('.outline-grid').innerHTML\r\n\r\noutlines_dom.forEach((outline)->\r\n  outline.addEventListener('click', ->\r\n    if selected_outline\r\n      selected_outline.classList.remove('selected');\r\n      if selected_outline == this\r\n        copy_outline(outline_hidden_dom, outline_dom)\r\n        selected_outline = null\r\n        return\r\n    this.classList.add('selected')\r\n    selected_outline = this\r\n    copy_outline(selected_outline, outline_dom)\r\n  )\r\n)\r\n\r\ncolor_icon_click_handler = ->\r\n  if selected_color_icon\r\n    selected_color_icon.classList.remove('selected');\r\n    if selected_color_icon == this\r\n      selected_color_icon = null\r\n      return\r\n  this.classList.add('selected')\r\n  selected_color_icon = this\r\n\r\npalette_dom = document.getElementById(\"color-palette\")\r\ncolor_icons_dom = palette_dom.getElementsByClassName('color-icon')\r\n\r\n\r\nfor icon in color_icons_dom\r\n  icon.addEventListener('click', color_icon_click_handler)\r\n\r\n\r\ninsert_color_icon = (color_class, index)->\r\n  index = parseInt(index)\r\n  color_icon = document.createElement('div')\r\n  color_icon.classList.add('color-icon')\r\n  color_icon.classList.add(color_class)\r\n  color_icon.setAttribute('data-color-class', color_class)\r\n  color_icon.setAttribute('data-index', index)\r\n  color_icon.addEventListener('click', color_icon_click_handler)\r\n  inserted = false\r\n  for icon in color_icons_dom\r\n    idx = parseInt(icon.getAttribute('data-index'))\r\n    if idx >= index\r\n      inserted = true\r\n      if idx != index\r\n        icon.before(color_icon)\r\n      break\r\n\r\n\r\n  if not inserted\r\n    palette_dom.appendChild(color_icon)\r\n\r\noutline_cells_selector = \"#outline td\"\r\n\r\nremove_color_class = (cell)->\r\n  color_class = cell.getAttribute('data-color-class')\r\n  if color_class\r\n    cell.classList.remove(color_class)\r\n    insert_color_icon(color_class, cell.getAttribute('data-color-index'))\r\n  cell.removeAttribute('data-color-class')\r\n  cell.removeAttribute('data-color-index')\r\n\r\nset_color_class = (cell, color_class, color_index)->\r\n  cell_color_class = cell.getAttribute('data-color-class')\r\n  if cell_color_class\r\n    cell.classList.remove(cell_color_class)\r\n  cell.classList.add(color_class)\r\n  cell.setAttribute('data-color-class', color_class)\r\n  cell.setAttribute('data-color-index', color_index)\r\n\r\n\r\ndocument.querySelectorAll(outline_cells_selector).forEach((cell) ->\r\n  cell.addEventListener(\"click\", ->\r\n    value = cell.getAttribute('data-value')\r\n    if selected_color_icon\r\n      cell_color_class = cell.getAttribute('data-color-class')\r\n      if cell_color_class\r\n        insert_color_icon(cell_color_class, cell.getAttribute('data-color-index'))\r\n      color_class = selected_color_icon.getAttribute('data-color-class')\r\n      color_index = selected_color_icon.getAttribute('data-index')\r\n      document.querySelectorAll(outline_cells_selector + \"[data-value='#{value}']\").forEach((c)->\r\n        set_color_class(c, color_class, color_index)\r\n      )\r\n      selected_color_icon.remove()\r\n      selected_color_icon = null\r\n    else\r\n      cell_color_class = cell.getAttribute('data-color-class')\r\n      if cell_color_class\r\n        document.querySelectorAll(outline_cells_selector + \"[data-value='#{value}']\").forEach((c)->\r\n          remove_color_class(c)\r\n        )\r\n  )\r\n)"
  ]
}